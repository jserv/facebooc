{"version":3,"sources":["js/angular-bootstrap/dropdown-toggle.js"],"names":["angular","module","constant","openClass","service","$document","openScope","this","open","dropdownScope","on","closeDropdown","escapeKeyBind","isOpen","close","off","evt","which","$apply","controller","$scope","$attrs","dropdownConfig","dropdownService","$animate","self","init","element","$element","isDefined","$parent","$eval","toggle","arguments","length","$watch","value","onToggle","$on","directive","restrict","scope","link","attrs","dropdownCtrl","require","event","preventDefault","stopPropagation","hasClass","prop","attr","aria-haspopup","aria-expanded"],"mappings":"AA0BAA,QAAAC,OAAA,4BAEAC,SAAA,kBACAC,UAAA,SAGAC,QAAA,mBAAA,YAAA,SAAAC,GACA,GAAAC,GAAA,IAEAC,MAAAC,KAAA,SAAAC,GACAH,IACAD,EAAAK,GAAA,QAAAC,GACAN,EAAAK,GAAA,UAAAE,IAGAN,GAAAA,IAAAG,IACAH,EAAAO,QAAA,GAGAP,EAAAG,GAGAF,KAAAO,MAAA,SAAAL,GACAH,IAAAG,IACAH,EAAA,KACAD,EAAAU,IAAA,QAAAJ,GACAN,EAAAU,IAAA,UAAAH,IAIA,IAAAD,GAAA,SAAAK,GACAA,GAAA,IAAAA,EAAAC,OAEAX,EAAAY,OAAA,WACAZ,EAAAO,QAAA,KAIAD,EAAA,SAAAI,GACA,KAAAA,EAAAC,OACAN,QAKAQ,WAAA,sBAAA,SAAA,SAAA,iBAAA,kBAAA,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAlB,KAAAJ,EAAAmB,EAAAnB,SAEAI,MAAAmB,KAAA,SAAAC,GACAF,EAAAG,SAAAD,EACAP,EAAAP,OAAAb,QAAA6B,UAAAR,EAAAR,QAAAO,EAAAU,QAAAC,MAAAV,EAAAR,SAAA,GAGAN,KAAAyB,OAAA,SAAAxB,GACA,MAAAY,GAAAP,OAAAoB,UAAAC,SAAA1B,GAAAY,EAAAP,QAIAN,KAAAM,OAAA,WACA,MAAAO,GAAAP,QAGAO,EAAAe,OAAA,SAAA,SAAAC,GACAZ,EAAAY,EAAA,WAAA,eAAAX,EAAAG,SAAAzB,GAEAiC,EACAb,EAAAf,KAAAY,GAEAG,EAAAT,MAAAM,GAGAA,EAAAiB,UAAA7B,OAAA4B,MAGAhB,EAAAkB,IAAA,yBAAA,WACAlB,EAAAP,QAAA,OAIA0B,UAAA,WAAA,WACA,OACAC,SAAA,KACArB,WAAA,qBACAsB,OACA5B,OAAA,KACAwB,SAAA,KAEAK,KAAA,SAAAD,EAAAd,EAAAgB,EAAAC,GACAA,EAAAlB,KAAAC,OAKAY,UAAA,iBAAA,WACA,OACAC,SAAA,KACAK,QAAA,aACAH,KAAA,SAAAD,EAAAd,EAAAgB,EAAAC,GACAA,IAIAjB,EAAAjB,GAAA,QAAA,SAAAoC,GACAA,EAAAC,iBACAD,EAAAE,kBAEArB,EAAAsB,SAAA,aAAAtB,EAAAuB,KAAA,aACAT,EAAAvB,OAAA,WACA0B,EAAAZ,aAMAL,EAAAwB,MAAAC,iBAAA,EAAAC,iBAAA,IACAZ,EAAAN,OAAAS,EAAA/B,OAAA,SAAAA,GACAc,EAAAwB,KAAA,kBAAAtC","file":"js/angular-bootstrap/dropdown-toggle.min.js","sourcesContent":["/* This code is taken from the AngularUI - Bootstrap Project (https://github.com/angular-ui/bootstrap)\n *\n * The MIT License\n * \n * Copyright (c) 2012-2014 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\nangular.module('ui.bootstrap.dropdown', [])\n\n.constant('dropdownConfig', {\n  openClass: 'open'\n})\n\n.service('dropdownService', ['$document', function($document) {\n  var self = this, openScope = null;\n\n  this.open = function( dropdownScope ) {\n    if ( !openScope ) {\n      $document.on('click', closeDropdown);\n      $document.on('keydown', escapeKeyBind);\n    }\n\n    if ( openScope && openScope !== dropdownScope ) {\n        openScope.isOpen = false;\n    }\n\n    openScope = dropdownScope;\n  };\n\n  this.close = function( dropdownScope ) {\n    if ( openScope === dropdownScope ) {\n      openScope = null;\n      $document.off('click', closeDropdown);\n      $document.off('keydown', escapeKeyBind);\n    }\n  };\n\n  var closeDropdown = function(evt) {\n    if (evt && evt.which === 3) return;\n\n    openScope.$apply(function() {\n      openScope.isOpen = false;\n    });\n  };\n\n  var escapeKeyBind = function( evt ) {\n    if ( evt.which === 27 ) {\n      closeDropdown();\n    }\n  };\n}])\n\n.controller('DropdownController', ['$scope', '$attrs', 'dropdownConfig', 'dropdownService', '$animate', function($scope, $attrs, dropdownConfig, dropdownService, $animate) {\n  var self = this, openClass = dropdownConfig.openClass;\n\n  this.init = function( element ) {\n    self.$element = element;\n    $scope.isOpen = angular.isDefined($attrs.isOpen) ? $scope.$parent.$eval($attrs.isOpen) : false;\n  };\n\n  this.toggle = function( open ) {\n    return $scope.isOpen = arguments.length ? !!open : !$scope.isOpen;\n  };\n\n  // Allow other directives to watch status\n  this.isOpen = function() {\n    return $scope.isOpen;\n  };\n\n  $scope.$watch('isOpen', function( value ) {\n    $animate[value ? 'addClass' : 'removeClass'](self.$element, openClass);\n\n    if ( value ) {\n      dropdownService.open( $scope );\n    } else {\n      dropdownService.close( $scope );\n    }\n\n    $scope.onToggle({ open: !!value });\n  });\n\n  $scope.$on('$locationChangeSuccess', function() {\n    $scope.isOpen = false;\n  });\n}])\n\n.directive('dropdown', function() {\n  return {\n    restrict: 'CA',\n    controller: 'DropdownController',\n    scope: {\n      isOpen: '=?',\n      onToggle: '&'\n    },\n    link: function(scope, element, attrs, dropdownCtrl) {\n      dropdownCtrl.init( element );\n    }\n  };\n})\n\n.directive('dropdownToggle', function() {\n  return {\n    restrict: 'CA',\n    require: '?^dropdown',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      if ( !dropdownCtrl ) {\n        return;\n      }\n\n      element.on('click', function(event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if ( !element.hasClass('disabled') && !element.prop('disabled') ) {\n          scope.$apply(function() {\n            dropdownCtrl.toggle();\n          });\n        }\n      });\n\n      // WAI-ARIA\n      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });\n      scope.$watch(dropdownCtrl.isOpen, function( isOpen ) {\n        element.attr('aria-expanded', !!isOpen);\n      });\n    }\n  };\n});"],"sourceRoot":"/source/"}